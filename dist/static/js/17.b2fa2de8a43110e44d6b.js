webpackJsonp([17],{NdRH:function(t,e){},eZIo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("TToO"),o=a("7+uW"),n=a("c+8m"),i=a.n(n),c=a("gN+L"),r=a("DZ+H"),l=a("ipus"),d=a("Fd2+"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.catList=[],e.selectIndex=0,e.catContent=[],e.value="",e}return s.c(e,t),e.prototype.mounted=function(){this.setTabIndex(1),console.log(this.$store.getters[o.default.prototype.MutationTreeType.TAB_INDEX]),this.getCatList(),""!=this.$store.getters[o.default.prototype.MutationTreeType.TOKEN_INFO].userId&&""!=this.$store.getters[o.default.prototype.MutationTreeType.TOKEN_INFO].token&&this.getCartList(),console.log("分类页加载")},e.prototype.getNumber=function(t){void 0===t&&(t=[]);var e=0;return t.forEach(function(t,a){e+=t.num}),e.toString()},e.prototype.getCartList=function(){var t=this;o.default.prototype.$reqFormPost("/shop/cart/query",{userId:this.$store.getters[o.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[o.default.prototype.MutationTreeType.TOKEN_INFO].token},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(d.c)(e.data.message);var a=document.getElementById("cartLen");if(!document.getElementById("cartLen"))(a=document.createElement("div")).setAttribute("id","cartLen"),a.className="messageFexid",a.style.right="11px",document.getElementsByClassName("van-tabbar-item__text")[2].appendChild(a);e.data.data.carts.length>0?a.innerHTML=t.getNumber(e.data.data.carts):a.style.display="none"}else console.log("网络请求错误！")})},e.prototype.filterProduct=function(){this.$router.push("/filterproduct")},e.prototype.goProductList=function(t,e,a){this.$router.push({path:"/productlist",query:{catId:t,parentCatId:e,selectIndex:a,title:this.catList[this.selectIndex].catName}})},e.prototype.selectCategoyItem=function(t){this.selectIndex=t,this.catContent=this.catList[t].children},e.prototype.getCatList=function(){var t=this;o.default.prototype.$reqFormPost("/user/cat/querytree",{},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(d.c)(e.data.message);console.log("selectCategoyItem",e.data.data.children),t.catList=e.data.data.children,t.selectCategoyItem(t.selectIndex)}else console.log("网络请求错误！")})},s.b([Object(l.a)("setTabIndex")],e.prototype,"setTabIndex",void 0),e=s.b([i()({components:{Swipe:c.a},mixins:[r.a]})],e)}(o.default),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-contents"},[a("div",{staticClass:"searchbox flex"},[a("van-search",{staticClass:"flex-1",staticStyle:{"background-color":"#fafafa"},attrs:{placeholder:"搜索商品"},on:{click:function(e){t.filterProduct()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t._v(" "),a("div",{staticClass:"contentBody"},[a("div",{staticClass:"leftTitle"},t._l(t.catList,function(e,s){return a("div",{key:s,staticClass:"left-box-item",class:s==t.selectIndex?"active":"fontcolor",on:{click:function(e){t.selectCategoyItem(s)}}},[a("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{position:"relative"}},[a("div",{staticClass:"activeItem"}),t._v("\n            "+t._s(e.label))])])})),t._v(" "),a("div",{staticClass:"rightContent"},[t._l(t.catList,function(e,s){return s==t.selectIndex?a("div",{key:s,staticStyle:{"text-align":"center","margin-top":"15px","font-size":"16px"}},[t._v(t._s(e.catName))]):t._e()}),t._v(" "),a("div",{staticClass:"catList"},t._l(t.catContent,function(e,s){return a("div",{key:s,staticStyle:{width:"33%",padding:"15px",overflow:"hidden"},on:{click:function(a){t.goProductList(e.catId,e.parentId,s)}}},[a("div",{staticClass:"cat-item"},[a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.catIcon,expression:"item.catIcon"}],staticStyle:{"border-radius":"50px"},attrs:{alt:""}})]),t._v(" "),a("div",[t._v(t._s(e.catName))])])])}))],2)])])},staticRenderFns:[]};var f=a("VU/8")(u,p,!1,function(t){a("NdRH"),a("ydCF")},"data-v-396a3610",null);e.default=f.exports},ydCF:function(t,e){}});
//# sourceMappingURL=17.b2fa2de8a43110e44d6b.js.map