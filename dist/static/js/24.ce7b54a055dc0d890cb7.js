webpackJsonp([24],{Hz96:function(t,e){},k6mo:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("TToO"),s=i("7+uW"),l=i("c+8m"),o=i.n(l),n=i("gN+L"),d=i("DZ+H"),r=i("TJML"),c=i("ymRw"),v=i("ipus"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tablist=["大家还看了","新品推荐"],e.tabgoodslist=[],e.likeList=[],e.newList=[],e.goodsList=[],e.goodsId="",e.detatil={goodsImg:"",goodsName:"",jingle:"",labelPrice:0,marketPrice:0,onlineStatus:"",sku:[],skuKey:[],storageNum:0},e.pageType="add",e.num=1,e.keepModel=!1,e.skuattr=[],e.chosenList=[],e.skuItem={},e}return a.c(e,t),e.prototype.onClickMiniBtn=function(){},e.prototype.onClickBigBtn=function(){},e.prototype.addCar=function(){var t=this;this.skuItem.skuId&&("pay"===this.pageType?s.default.prototype.$reqFormPost("/prepare/order/direct",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId,skuId:this.skuItem.skuId,num:this.num},function(e){if(null!=e){if(console.log(e),200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(c.Toast)(e.data.message);t.setPrepareId(e.data.data.prepareId),t.$router.push({path:"/settle"}),console.log("预支付订单ID",e.data.data.prepareId)}else console.log("网络请求错误！")}):this.addCart(),console.log(this.pageType))},e.prototype.changeModel=function(t){t&&(this.pageType=t),this.keepModel=!this.keepModel},e.prototype.selectSku=function(t,e){var i=this;if(!e.disable){""!=(this.chosenList[t]||"")&&this.chosenList[t]===e.skuValueId?this.chosenList[t]="":this.chosenList[t]=e.skuValueId,this.chosenList=this.chosenList,this.skuItem={};if(this.detatil.skuKey.forEach(function(t,e){t.valueList.forEach(function(t,a){t.disable=!0;for(var s=0;s<i.detatil.sku.length;s++)if(i.detatil.sku[s].attrs[e].valueId==t.skuValueId){for(var l=!0,o=0;o<i.detatil.sku[s].attrs.length;o++)if(e!=o&&""!=(i.chosenList[o]||"")&&i.chosenList[o]!=i.detatil.sku[s].attrs[o].valueId){l=!1;break}if(l){t.disable=!1;break}}})}),this.chosenList.length===this.detatil.skuKey.length){if(function(){var t=!0;return i.chosenList.forEach(function(e,i){if(""===e)return t=!1,!1}),t})for(var a=0;a<this.detatil.sku.length;a++)for(var s=0,l=0;l<this.chosenList.length;l++)if(this.chosenList[l]===this.detatil.sku[a].attrs[l].valueId&&(console.log(this.chosenList[l]===this.detatil.sku[a].attrs[l].valueId,this.detatil.sku[a].attrs[l]),(s+=1)===this.chosenList.length)){this.skuItem=this.detatil.sku[a];break}}this.chosenList.push()}},e.prototype.addCart=function(){s.default.prototype.$reqFormPost("/shop/cart/add",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId,skuId:this.skuItem.skuId},function(t){null!=t?200==t.data.status?(Object(c.Toast)("加入成功"),console.log("加入购物车",t.data)):console.log("需控制错误码"+t.data.status+",错误信息："+t.data.message):console.log("网络请求错误！")})},e.prototype.getProductDetail=function(){var t=this;s.default.prototype.$reqFormPost("/goods/front/detail",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId},function(e){null!=e?200==e.data.status?(console.log("res.data",e.data),e.data.data.singleStatus&&(t.skuItem=e.data.data.sku[0]),t.detatil=e.data.data,t.tabgoodslist=e.data.data.likeList,t.likeList=e.data.data.likeList,t.newList=e.data.data.newList,t.detatil.skuKey.forEach(function(e,i){e.valueList.forEach(function(e,a){var s={disable:!0,chosen:!1};t.detatil.sku.forEach(function(t,a){if(e.skuValueId===t.attrs[i].valueId)return s.disable=!1,!1}),Object.assign(e,s)})})):console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message):console.log("网络请求错误！")})},e.prototype.selecttablist=function(t){this.tabgoodslist=[],0==t&&(this.tabgoodslist=this.likeList),1==t&&(this.tabgoodslist=this.newList)},e.prototype.goProductDetail=function(t){this.$router.push({path:"/productdetail",query:{goodsId:t}})},e.prototype.handlePX=function(t,e){return t+":"+this.$store.getters[s.default.prototype.MutationTreeType.SYSTEM].availWidth/750*e+"px;"},e.prototype.mounted=function(){console.log(this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO]),this.goodsId=this.$route.query.goodsId,this.getProductDetail(),console.log("----------------------")},a.b([Object(v.a)("setPrepareId")],e.prototype,"setPrepareId",void 0),e=a.b([o()({components:{Swipe:n.a,comhead:r.a},mixins:[d.a]})],e)}(s.default),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-contents",staticStyle:{width:"100%","background-color":"#e4e4e4",overflow:"auto",height:"100vh"}},[a("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",contextIndex:1,isRightIcon:"true"},on:{leftClick:!1}}),t._v(" "),a("van-swipe",{attrs:{autoplay:3e3}},t._l(t.detatil.goodsImg.split(","),function(t,e){return a("van-swipe-item",{key:e,staticStyle:{height:"300px",display:"flex","align-items":"center","justify-content":"center"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}]})])})),t._v(" "),a("div",{staticClass:"goodsTitle"},[a("div",{staticClass:"goodstitle"},[a("div",[t._v(t._s(t.detatil.goodsName))]),t._v(" "),a("div",{staticStyle:{"font-size":"14px",color:"#666"}},[t._v(t._s(t.detatil.jingle))]),t._v(" "),a("div",[a("span",{staticClass:"marketPrice"},[t._v("  ￥"+t._s(t.detatil.marketPrice))]),t._v(" "),a("span",{staticClass:"labelPrice",staticStyle:{margin:"0 10px","font-size":"14px"}},[t._v("原价:"+t._s(t.detatil.labelPrice))])])]),t._v(" "),a("div",{staticClass:"comment"},[a("div",[t._v("用户评价")]),t._v(" "),a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",28)+t.handlePX("height",24)}),t._v(" "),a("span",[t._v("999")])])])]),t._v(" "),a("div",{staticClass:"functionList",staticStyle:{"margin-top":"10px"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"请选择规格数量","is-link":""}}),t._v(" "),a("van-cell",{attrs:{title:"限制：特价商品不可与优惠卷叠加使用"}}),t._v(" "),a("van-cell",{attrs:{"is-link":""}},[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v("领卷：")]),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",112)+t.handlePX("height",26)})])],2),t._v(" "),a("van-cell",[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v("备注：")]),t._v(" "),a("span",{staticStyle:{color:"#ff6d72"}},[t._v("【新货促销，1周内发货】")])])],2),t._v(" "),a("van-cell",[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v("服务：")]),t._v(" "),a("span",[t._v("7天无忧退换货")]),t._v(" "),a("span",[t._v("24小时快速退款")]),t._v(" "),a("span",[t._v("中宜自营严选")])])],2)],1)],1),t._v(" "),a("div",{staticClass:"userCommentList",staticStyle:{"background-color":"#ffffff","margin-top":"10px"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"用户评价（999+）","is-link":"",value:"99%好评"}})],1),t._v(" "),a("div",{staticClass:"userComment",staticStyle:{padding:"10px 15px"}},[a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],staticStyle:{"vertical-align":"middle","border-radius":"50%"},style:t.handlePX("width",45)+t.handlePX("height",45)}),t._v(" "),a("span",[t._v("这个用户")]),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],staticStyle:{"vertical-align":"middle"},style:t.handlePX("width",140)+t.handlePX("height",25)})]),t._v(" "),a("div",{staticStyle:{color:"#999999"}},[t._v("2018.02.05 22:01 款式：高灯")]),t._v(" "),a("div",[t._v("物流很快，到了就用上了。很舒服，睡得很香")]),t._v(" "),a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",100)+t.handlePX("height",100)}),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",100)+t.handlePX("height",100)})])])],1),t._v(" "),a("div",{staticClass:"recommend",staticStyle:{"background-color":"#ffffff","margin-top":"10px","z-index":"2"}},[a("van-tabs",{on:{click:t.selecttablist}},t._l(t.tablist,function(e,s){return a("van-tab",{key:s,attrs:{title:e}},[a("div",{staticStyle:{display:"flex",overflow:"auto"}},t._l(t.tabgoodslist,function(s,l){return a("div",{key:l,style:t.handlePX("padding-bottom",65)+t.handlePX("padding-top",20)+t.handlePX("padding-left",30),on:{click:function(i){t.goProductDetail(e.goodsId)}}},[a("div",{staticStyle:{border:"1px #e5e5e5 solid","box-sizing":"border-box",display:"flex","align-items":"center","justify-content":"center",overflow:"hidden",position:"relative"},style:t.handlePX("height",410)+t.handlePX("width",345)},[a("img",{staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0",left:"0"},style:t.handlePX("width",43)+t.handlePX("height",49),attrs:{src:i("HORy")}}),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0","z-index":"-1"}}),t._v(" "),a("div",{staticClass:"textLabel",staticStyle:{position:"absolute",bottom:"0",width:"100%","background-color":"rgba(207,207,207,0.3)","text-align":"center",color:"#A3A3A3"},style:t.handlePX("height",70)+t.handlePX("line-height",70)+t.handlePX("font-size",28)},[t._v(t._s(s.jingle))])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column",width:"-webkit-fill-available"},style:t.handlePX("width",345)},[a("div",[a("img",{style:t.handlePX("width",52)+t.handlePX("height",25),attrs:{src:i("ILWi")}}),t._v(" "),a("img",{style:t.handlePX("width",52)+t.handlePX("height",25),attrs:{src:i("tp/U")}})]),t._v(" "),a("div",{staticClass:"textLabel",style:t.handlePX("font-size",28)+t.handlePX("line-height",40)},[t._v(t._s(s.goodsName))]),t._v(" "),a("div",{staticStyle:{color:"#E05459"},style:t.handlePX("font-size",30)+t.handlePX("line-height",40)},[t._v("￥"+t._s(s.labelPrice))])])])}))])}))],1),t._v(" "),a("div",{staticStyle:{"background-color":"#ffffff","margin-top":"10px",padding:"10px 15px"}},[a("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ededed"}},[a("div",{staticStyle:{color:"#a3a3a3"},style:t.handlePX("width",150)},[t._v("颜色")]),t._v(" "),a("div",{staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{style:t.handlePX("line-height",50)},[t._v("酒红，白色")])])]),t._v(" "),a("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ededed"}},[a("div",{staticStyle:{color:"#a3a3a3"},style:t.handlePX("width",150)},[t._v("主要材质")]),t._v(" "),a("div",{staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{style:t.handlePX("line-height",50)},[t._v("外枕套：60%聚酯纤维，40%莱赛尔纤维")]),t._v(" "),a("div",{style:t.handlePX("line-height",50)},[t._v("外枕套：60%聚酯纤维，40%莱赛尔纤维")])])]),t._v(" "),a("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ededed"}},[a("div",{staticStyle:{color:"#a3a3a3"},style:t.handlePX("width",150)},[t._v("温馨提示")]),t._v(" "),a("div",{staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{style:t.handlePX("line-height",50)},[t._v("1、双层内外枕套配有拉链可拆洗，可直接打开看到")]),t._v(" "),a("div",{style:t.handlePX("line-height",50)},[t._v("1、双层内外枕套配有拉链可拆洗，可直接打开看到")]),t._v(" "),a("div",{style:t.handlePX("line-height",50)},[t._v("外枕套：60%聚酯纤维，40%莱赛尔纤维")])])])]),t._v(" "),a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],staticStyle:{width:"100%"}}),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],staticStyle:{width:"100%"}})]),t._v(" "),a("van-goods-action",{staticStyle:{"z-index":"90","background-color":"#ffffff"}},[a("van-goods-action-mini-btn",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"chat",text:"客服"},on:{click:t.onClickMiniBtn}}),t._v(" "),a("van-goods-action-mini-btn",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"cart",text:"购物车"},on:{click:t.onClickMiniBtn}}),t._v(" "),a("van-goods-action-big-btn",{staticStyle:{flex:"1"},attrs:{text:"加入购物车"},on:{click:function(e){t.changeModel("cart")}}}),t._v(" "),a("van-goods-action-big-btn",{staticStyle:{flex:"1"},attrs:{text:"立即购买",primary:""},on:{click:function(e){t.changeModel("pay")}}})],1),t._v(" "),a("div",{class:t.keepModel?"bg_shop1":"bg_shop_none1",staticStyle:{"background-color":"rgba(0, 0, 0, 0.498039)",height:"100%",width:"100%"},on:{click:function(e){t.changeModel()}}},[a("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[a("div",{class:t.keepModel?"modiaBoxUp2":"modiaBoxDown2",staticStyle:{"background-color":"#fff",width:"100%"},on:{click:function(t){t.stopPropagation()}}},[a("div",{staticStyle:{"border-bottom":"1px solid #e5e5e5",display:"flex","margin-left":"15px","justify-content":"space-between"}},[a("div",{staticStyle:{padding:"6px","margin-top":"-35px","border-radius":"5px","background-color":"#fff",border:"1px solid #e5e5e5","margin-bottom":"20px",display:"flex"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.skuItem.skuImgUrl?t.skuItem.skuImgUrl:t.detatil.goodsImg.split(",")[0],expression:"skuItem.skuImgUrl?skuItem.skuImgUrl :detatil['goodsImg'].split(',')[0]"}],staticStyle:{width:"80px",height:"80px"}})]),t._v(" "),a("div",{staticStyle:{"font-size":"13px",flex:"1"}},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.detatil.goodsName))]),t._v(" "),a("div",{staticStyle:{color:"#666"}},[t._v(t._s(t.detatil.jingle))]),t._v(" "),a("div",{staticStyle:{margin:"10px",height:"40px",overflow:"hidden","font-size":"14px"}},[t._v("单价:\n          "),a("span",{staticStyle:{"font-size":"18px",color:"rgb(229, 28, 35)"}},[t._v("￥"+t._s(t.skuItem.marketPrice?t.skuItem.marketPrice:t.detatil.marketPrice))])])]),t._v(" "),a("div",{staticStyle:{padding:"10px"}})]),t._v(" "),a("div",{staticStyle:{"font-size":"14px","max-height":"300px",overflow:"auto"}},t._l(t.detatil.skuKey,function(e,i){return a("div",{key:i},[a("div",{staticStyle:{padding:"5px 20px 0"}},[t._v(t._s(e.skuKeyIdName))]),t._v(" "),a("div",{staticClass:"skuKeyBox"},t._l(e.valueList,function(e,s){return a("div",{key:s},[a("div",{class:t.chosenList[i]===e?"sku_box_select":"sku_box",style:e.disable?"color:#ccc;":""+t.chosenList[i]===e.skuValueId?"background-color:#E41C24;color:#fff":"",on:{click:function(a){a.stopPropagation(),t.selectSku(i,e)}}},[t._v(t._s(e.skuValueName))])])}))])})),t._v(" "),a("div",{staticClass:"num_box"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[t._v("数量：")]),t._v(" "),a("van-stepper",{staticStyle:{float:"right"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",width:"100%",color:"#fff","background-color":"rgb(229, 28, 35)"},on:{click:t.addCar}},[a("div",{staticStyle:{margin:"10px"}},[t._v("确定")])])])])]),t._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.detatil.imageList,function(t,e){return a("div",{key:e,staticStyle:{"line-height":"0"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticStyle:{width:"100%"}})])})),t._v(" "),a("div",{staticStyle:{height:"50px"}})],1)},staticRenderFns:[]};var p=i("VU/8")(u,h,!1,function(t){i("Hz96")},"data-v-69d34b0c",null);e.default=p.exports}});
//# sourceMappingURL=24.ce7b54a055dc0d890cb7.js.map