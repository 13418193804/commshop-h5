webpackJsonp([4],{"1xto":function(t,e){},"6taJ":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("TToO"),a=s("7+uW"),i=s("c+8m"),o=s.n(i),n=s("DZ+H"),l=s("ymRw"),d=s("TJML"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.finished=!1,e.orderList={allOrder:{},orderList:{orderList:[]},orderList_pay:{orderList:[]},orderList_send:{orderList:[]},orderList_reacv:{orderList:[]},orderList_finish:{orderList:[]},orderList_refund:{orderList:[]}},e.active=0,e.orderTitleList=[{name:"全部",status:""},{name:"待付款",status:"ORDER_WAIT_PAY"},{name:"待发货",status:"ORDER_WAIT_SENDGOODS"},{name:"待收货",status:"ORDER_WAIT_RECVGOODS"},{name:"待评价",status:"ORDER_WAIT_REVIEW"},{name:"退换/售后",status:"REFUND"}],e}return r.c(e,t),e.prototype.onLoad=function(){setTimeout(function(){},500)},e.prototype.formatStatusColor=function(t){switch(t){case"ORDER_WAIT_SENDGOODS":case"ORDER_WAIT_RECVGOODS":case"ORDER_CANCEL_PAY":case"ORDER_WAIT_PAY":return"color:red";case"ORDER_WAIT_REVIEW":return"color:#ffc630";case"ORDER_FINISH":return"color:#ffc630;"}},e.prototype.formatButtonColor=function(){return"border-color:#ffc630;color:#ffc630"},e.prototype.formatStatus=function(t){switch(t){case"ORDER_WAIT_PAY":return"等待付款";case"ORDER_CANCEL_PAY":return"交易取消";case"ORDER_WAIT_SENDGOODS":return"等待发货";case"ORDER_WAIT_RECVGOODS":return"等待收货";case"ORDER_END_GOODS":return"交易结束";case"ORDER_WAIT_REVIEW":return"交易完成"}},e.prototype.getOrderList=function(t){var e=this;a.default.prototype.$reqFormPost("/order/queryorder",{userId:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[a.default.prototype.MutationTreeType.TOKEN_INFO].token,orderStatus:t},function(t){if(null!=t){if(200!=t.data.status)return console.log("需控制错误码"+t.data.status+",错误信息："+t.data.message),void Object(l.Toast)(t.data.message);e.orderList.allOrder=t.data.data,console.log(t.data.data)}else console.log("网络请求错误！")})},e.prototype.goDetail=function(t){this.$router.push({name:"orderdetail",query:{orderId:t.orderId}})},e.prototype.mounted=function(){var t=this;console.log(this.$route.query),this.orderTitleList.forEach(function(e,s){t.$route.query.orderStatus!=e.status||(t.active=s)}),"REFUND"!==this.$route.query.orderStatus&&this.getOrderList(this.$route.query.orderStatus)},e=r.b([o()({components:{comhead:d.a},mixins:[n.a]})],e)}(a.default),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-contents"},[s("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",title:"我的订单",isRightIcon:"true"},on:{leftClick:!1}}),t._v(" "),s("van-tabs",{attrs:{active:t.active,sticky:!0}},t._l(t.orderTitleList,function(e,r){return s("van-tab",{staticStyle:{"border-top":"1px #e5e5e5 solid"},attrs:{title:e.name}},[0==r?s("div",[s("van-list",{attrs:{finished:t.finished},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.orderList.allOrder.orderList,function(e,r){return s("div",{on:{click:function(s){t.goDetail(e)}}},[s("div",{staticClass:"orderTitle textLabel"},[s("div",{staticStyle:{"padding-left":"10px"}},[t._v("\n                订单号:"+t._s(e.orderId)+"\n              ")]),t._v(" "),s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("span",{style:t.formatStatusColor(e.orderStatus)},[t._v(t._s(t.formatStatus(e.orderStatus)))]),t._v(" "),"ORDER_FINISH"==e.orderStatus?s("div",{staticStyle:{padding:"0 15px",position:"relative"}},[s("div",{staticClass:"deleteBorder"}),t._v(" "),s("i",{staticClass:"iconfont icon-iconfontshanchu3"})]):s("div",{staticStyle:{width:"10px"}})])]),t._v(" "),s("div",{staticClass:"detailBody"},t._l(e.detailList,function(e){return s("div",[s("div",{staticClass:"product1"},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg,expression:"items.goodsImg"}],staticStyle:{height:"80px",width:"80px"}})]),t._v(" "),s("div",{staticStyle:{"font-size":"12px",flex:"1",overflow:"hidden",padding:"0 10px"}},[s("div",{staticClass:"lineTwoType"},[t._v(t._s(e.goodsName))]),t._v(" "),s("div",{staticStyle:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",color:"#999"}},[s("div",[t._v(" "+t._s(e.jingle))])])]),t._v(" "),s("div",{staticStyle:{"text-align":"center","font-size":"14px"}},[s("div",[t._v("￥"+t._s(e.goodsPrice))]),t._v(" "),e.labelPrice?s("div",{staticClass:"labelPrice"},[t._v("原价:"+t._s(e.labelPrice))]):t._e(),t._v(" "),s("div",[t._v("X "+t._s(e.goodsNum))])])])])})),t._v(" "),s("div",{staticStyle:{"text-align":"right","font-size":"15px",padding:"5px 10px"}},[s("span",{staticStyle:{margin:"0 10rpx"}},[t._v("共"),s("span",{staticStyle:{margin:"0 10rpx"}},[t._v("\n          "+t._s(e.orderGoodsNum)+"\n        ")]),t._v("件商品")]),t._v(" "),s("span",[t._v("合计："),s("span",[t._v("￥"+t._s(e.orderTotalPrice.toFixed(2)))]),t._v(" "),s("span",[t._v("(含运费"+t._s(e.transportPrice.toFixed(2))+")")])])]),t._v(" "),"ORDER_WAIT_PAY"===e.orderStatus?s("div",{staticClass:"settingBody"},[s("van-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v("取消订单")]),t._v(" "),s("van-button",{staticStyle:{"margin-right":"10px"},style:t.formatButtonColor(),attrs:{size:"small"}},[t._v("支付订单")])],1):t._e(),t._v(" "),"ORDER_WAIT_SENDGOODS"===e.orderStatus?s("div",{staticClass:"settingBody"},[s("van-button",{staticStyle:{"margin-right":"10px"},style:t.formatButtonColor(),attrs:{size:"small"}},[t._v("申请退款")])],1):t._e(),t._v(" "),"ORDER_WAIT_RECVGOODS"===e.orderStatus?s("div",{staticClass:"settingBody"},[s("van-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v("查看物流")]),t._v(" "),s("van-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v("退货/退款")]),t._v(" "),s("van-button",{staticStyle:{"margin-right":"10px"},style:t.formatButtonColor(),attrs:{size:"small"}},[t._v("确认收货")])],1):t._e(),t._v(" "),"ORDER_WAIT_REVIEW"===e.orderStatus||"ORDER_FINISH"===e.orderStatus?s("div",{staticClass:"settingBody"},[s("van-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v("再次购买")]),t._v(" "),s("van-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v("退换/售后")]),t._v(" "),s("van-button",{staticStyle:{"margin-right":"10px"},style:t.formatButtonColor(),attrs:{size:"small"}},[t._v("评价")])],1):t._e(),t._v(" "),s("div",{staticStyle:{"background-color":"#f7f7f7",height:"10px"}})])}))],1):t._e()])}))],1)},staticRenderFns:[]};var _=s("VU/8")(c,u,!1,function(t){s("RPLt"),s("1xto")},"data-v-45b7f434",null);e.default=_.exports},RPLt:function(t,e){}});
//# sourceMappingURL=4.e1981aef149c8143b13c.js.map