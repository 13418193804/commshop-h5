webpackJsonp([5],{L79H:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM4MTJFRDY1NzA3MDExRThBNTNGQTI5NzcwNERDQkE5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM4MTJFRDY2NzA3MDExRThBNTNGQTI5NzcwNERDQkE5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzgxMkVENjM3MDcwMTFFOEE1M0ZBMjk3NzA0RENCQTkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzgxMkVENjQ3MDcwMTFFOEE1M0ZBMjk3NzA0RENCQTkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4HC/JdAAAAMElEQVR42mI8d+4cA7mABYgNDQ3J0Hn+/HkmBgrAqOZRzaOah49mFkiZQJ5mgAADAHZBCAN9bBTkAAAAAElFTkSuQmCC"},OPPo:function(t,e){},WNIO:function(t,e){},afYQ:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("TToO"),s=i("7+uW"),o=i("c+8m"),n=i.n(o),c=i("DZ+H"),l=i("Fd2+"),r=i("TJML"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prepareId="",e.pageType="",e.couponId="",e.titleType="",e.remark="",e.shopCartList=[],e.address=null,e.totalPrice=0,e.freight=0,e.goodsSum=0,e.active=i("scu8"),e.normal=i("L79H"),e.invoiceStatus=!1,e.goodsType=null,e.currentCoupon=null,e.couponList=[],e.PERSON_invoiceTitle="",e.COMPANY_invoiceTitle="",e.COMPANY_invoiceNo="",e}return a.c(e,t),e.prototype.goSelectAddress=function(){this.$router.push({name:"selectaddress"})},e.prototype.goconpon=function(){if(0!=this.couponList.length){var t={prepareId:this.prepareId};this.address&&Object.assign(t,{addressId:this.address.addressId}),this.$router.push({name:"selectcoupon",query:t})}},e.prototype.goinvoiceSelect=function(){this.goinvoice()},e.prototype.changeinvoiceStatus1=function(t){t&&""===this.titleType&&(this.titleType="PERSON",this.PERSON_invoiceTitle="个人"),t||(this.titleType="",this.$route.query.titleType="")},e.prototype.goinvoice=function(t){void 0===t&&(t=null),t&&(sessionStorage.handleSave="true"),this.$router.push({name:"invoice",query:{invoiceStatus:this.invoiceStatus.toString(),titleType:this.titleType,PERSON_invoiceTitle:this.PERSON_invoiceTitle,COMPANY_invoiceTitle:this.COMPANY_invoiceTitle,COMPANY_invoiceNo:this.COMPANY_invoiceNo}})},e.prototype.getPreInfo=function(t){var e=this;s.default.prototype.$reqFormPost("/prepare/query",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,prepareId:t},function(t){if(null!=t){if(200!=t.data.status)return console.log("需控制错误码"+t.data.status+",错误信息："+t.data.message),void Object(l.c)(t.data.message);console.log(t.data.data),e.currentCoupon=t.data.data.currentCoupon,e.couponList=t.data.data.couponList,e.goodsType=t.data.data.goodsType,"SCORE"===e.goodsType&&(document.getElementsByClassName("van-submit-bar__text")[0].children[0].innerHTML="支付积分：",e.$nextTick(function(){var t=document.getElementsByClassName("van-submit-bar__text")[0].children[1].innerHTML.replace("¥","");document.getElementsByClassName("van-submit-bar__text")[0].children[1].innerHTML=t+"积分"})),e.shopCartList=t.data.data.shopCartList,e.address=t.data.data.address,e.totalPrice=t.data.data.totalPrice,e.goodsSum=t.data.data.goodsSum,e.freight=t.data.data.freight}else console.log("网络请求错误！")})},e.prototype.onSubmit=function(){var t=this;this.address?s.default.prototype.$reqFormPost("/prepare/submit",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,couponId:this.couponId,PERSON_invoiceTitle:this.PERSON_invoiceTitle,COMPANY_invoiceTitle:this.COMPANY_invoiceTitle,COMPANY_invoiceNo:this.COMPANY_invoiceNo,titleType:this.titleType,prepareId:this.prepareId,remark:this.remark},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(l.c)(e.data.message);t.$router.replace({name:"pay",query:{contactname:t.address.contactname,contactmobile:t.address.contactmobile,address:t.address.province+t.address.city+t.address.country+t.address.address,goodsType:t.goodsType,body:e.data.data.body,payId:e.data.data.payId,payTotal:e.data.data.payTotal}}),console.log(e.data.data)}else console.log("网络请求错误！")}):Object(l.c)("请选择一个收货地址")},e.prototype.mounted=function(){this.prepareId=this.$store.getters[s.default.prototype.MutationTreeType.PREPAREID],this.getPreInfo(this.$store.getters[s.default.prototype.MutationTreeType.PREPAREID]),this.$route.query.titleType&&""!==this.$route.query.titleType&&""!==(sessionStorage.handleSave||"")&&(console.log(this.$route.query.titleType),this.titleType=this.$route.query.titleType,this.PERSON_invoiceTitle=this.$route.query.PERSON_invoiceTitle,this.COMPANY_invoiceTitle=this.$route.query.COMPANY_invoiceTitle,this.COMPANY_invoiceNo=this.$route.query.COMPANY_invoiceNo,this.invoiceStatus=!0),sessionStorage.handleSave=""},e=a.b([n()({components:{comhead:r.a},mixins:[c.a]})],e)}(s.default),p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab-contents",staticStyle:{height:"-webkit-fill-available"}},[i("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",title:"确认订单",isRightIcon:"true"},on:{leftClick:!1}}),t._v(" "),i("div",{staticClass:"addressbox",on:{click:function(e){t.goSelectAddress()}}},[i("div",{staticClass:"flex flex-align-center",staticStyle:{padding:"10px"}},[t.address?i("div",{staticClass:"flex-1"},[i("div",{staticClass:"flex flex-pack-justify",staticStyle:{"font-size":"16px"}},[i("span",[t._v("收货人:"+t._s(t.address.contactname))]),t._v(" "),i("span",{staticStyle:{"margin-right":"10px"}},[t._v(t._s(t.address.contactmobile))])]),t._v(" "),i("div",{staticClass:"flex flex-align-center",staticStyle:{padding:"5px"}},[t._m(0),t._v(" "),i("div",{staticClass:"lineTwo"},[t._v("\n                     收货地址：    "+t._s(t.address.province)+t._s(t.address.city)+t._s(t.address.country)+t._s(t.address.address)+"\n                    ")])])]):i("div",{staticClass:"flex-1"},[t._v("\n              请选择一个收货地址\n            ")]),t._v(" "),i("i",{staticClass:"iconfont icon-youjiantou",staticStyle:{"font-size":"20px"}})])]),t._v(" "),t._m(1),t._v(" "),i("div",{staticStyle:{"background-color":"#fff","margin-bottom":"10px"}},[t._l(t.shopCartList,function(e,a){return i("div",{key:a},[i("div",{staticClass:"product"},[i("div",{staticClass:"flex flex-align-center"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg,expression:"item.goodsImg"}],staticStyle:{height:"70px",width:"70px"}})]),t._v(" "),i("div",{staticClass:"flex-1",staticStyle:{padding:"0 10px"}},[i("div",{staticClass:"lineTwoType flex-1"},[t._v(t._s(e.goodsName))]),t._v(" "),i("div",{staticClass:"lineTwoType flex-1",staticStyle:{color:"#666","font-size":"14px"}},[t._v(t._s(e.jingle))]),t._v(" "),i("div",[i("span",{staticClass:"marketPrice"},["RETAIL"==t.goodsType?i("span",[t._v("￥")]):t._e(),t._v(t._s(e.price.toFixed(2))),"SCORE"==t.goodsType?i("span",[t._v("积分")]):t._e()]),t._v(" "),"RETAIL"==t.goodsType?i("span",{staticClass:"labelPrice",staticStyle:{"font-size":"12px"}},[t._v("￥"+t._s(e.labelPrice))]):t._e()])]),t._v(" "),i("div",[t._v("X "+t._s(e.num))])])])}),t._v(" "),i("div",{staticStyle:{height:"10px","background-color":"#f7f7f7"}}),t._v(" "),i("van-cell-group",["RETAIL"==t.goodsType?i("van-cell",{staticClass:"couponItem",staticStyle:{"border-bottom":"1px solid #FAFAFA"},attrs:{title:"优惠券","is-link":"",value:t.currentCoupon?t.currentCoupon.couponName:t.couponList.length+"张可用"},on:{click:function(e){t.goconpon()}}},[i("template",{slot:"default"},[t.currentCoupon?i("span",{staticClass:"marketPrice"},[t._v("满"+t._s(t.currentCoupon.fullDenomination)+"减"+t._s(t.currentCoupon.couponDenomination))]):i("span",{staticClass:"marketPrice"},[t._v(" "+t._s(t.couponList.length)+"张可用")])])],2):t._e(),t._v(" "),t.currentCoupon?i("div",{staticClass:"flex flex-pack-justify",staticStyle:{padding:"10px 15px",color:"#333","border-bottom":"10px solid rgb(247, 247, 247)"}},[i("div",[t._v("优惠金额")]),t._v(" "),i("div",{staticStyle:{"max-width":"70%"}},[t._v("-￥"+t._s(t.currentCoupon.couponDenomination.toFixed(2)))])]):t._e(),t._v(" "),i("van-cell",{staticStyle:{"border-bottom":"1px solid #FAFAFA"},attrs:{title:"配送方式",value:"快递"}}),t._v(" "),i("van-cell",{staticStyle:{"border-bottom":"1px solid #FAFAFA"},attrs:{title:"运费",value:"￥"+t.freight.toFixed(2)}}),t._v(" "),"RETAIL"==t.goodsType?i("van-cell-group",[i("div",{staticClass:"van-cell van-cell--clickable van-hairline flex flex-pack-justify"},[i("div",{staticClass:" flex  flex-align-center",on:{click:function(t){t.stopPropagation()}}},[i("van-checkbox",{on:{change:t.changeinvoiceStatus1},scopedSlots:t._u([{key:"icon",fn:function(e){return i("img",{staticStyle:{"margin-bottom":"-2.5px"},attrs:{src:e.checked?t.active:t.normal}})}}]),model:{value:t.invoiceStatus,callback:function(e){t.invoiceStatus=e},expression:"invoiceStatus"}}),t._v(" "),i("span",{staticStyle:{"margin-left":"5px"}},[t._v("我要开发票")])],1),t._v(" "),i("div",{staticClass:"flex-1",on:{click:t.goinvoiceSelect}},[i("span",{staticStyle:{float:"right"}},[t._v("\n"+t._s("PERSON"===t.titleType?t.PERSON_invoiceTitle:"")+t._s("COMPANY"===t.titleType?t.COMPANY_invoiceTitle:"")+"\n"),i("i",{staticClass:" van-icon van-icon-arrow van-cell__right-icon"})])])])]):t._e(),t._v(" "),i("van-field",{attrs:{label:"买家留言选填：",type:"textarea",placeholder:"选填内容已和卖家协商确认",rows:"1",autosize:""},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),t._v(" "),i("div",{staticStyle:{margin:"0 10px","text-align":"right",padding:"10px"}},[i("span",{staticStyle:{margin:"0 10rpx"}},[t._v("\n        共"+t._s(t.goodsSum)+"件商品\n     ")]),t._v(" "),i("span",[t._v("小计："),i("span",{staticClass:"marketPrice"},["RETAIL"==t.goodsType?i("span",[t._v("￥")]):t._e(),t._v(t._s(t.totalPrice.toFixed(2))),"SCORE"==t.goodsType?i("span",[t._v("积分")]):t._e()])])]),t._v(" "),i("div",{staticStyle:{height:"10px","background-color":"#f7f7f7"}})],2),t._v(" "),i("van-submit-bar",{attrs:{price:100*t.totalPrice,"button-text":"立即支付"},on:{submit:t.onSubmit}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("i",{staticClass:"iconfont icon-location",staticStyle:{"margin-right":"10px","font-size":"22px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex",staticStyle:{height:"5px"}},[e("img",{staticStyle:{width:"100%"},attrs:{src:i("AQsh")}})])}]};var u=i("VU/8")(d,p,!1,function(t){i("OPPo"),i("WNIO")},"data-v-5a05b329",null);e.default=u.exports},scu8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjNDMDU0MjYwNzA3MDExRThBMEIyRjIzMjZCNjkyRUIxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjNDMDU0MjYxNzA3MDExRThBMEIyRjIzMjZCNjkyRUIxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M0MwNTQyNUU3MDcwMTFFOEEwQjJGMjMyNkI2OTJFQjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6M0MwNTQyNUY3MDcwMTFFOEEwQjJGMjMyNkI2OTJFQjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5fworgAAAA5UlEQVR42mI8d+4cA7mABYgNDQ3J0Hn+/HkmBgrAUNJ8+SpDTT0iwEgAjx4zNLaSZTNQZ0UNiCEliUPzp0/4dP76zSAoyNBUi03z5m0MOQUMew+g63z4CKpTRIShu5VBQACb5uMnGL79YJg+i+HwURSdlbVQOztb4DoxNDfXM+jpgBgTpzIcOwFiPHsG1SksDLKTnw93VDEzM9RVMehpg9h9kxjWrGdoaIPaieRavKFdVw3Vv2I1w7t3DEICIJ18fEQnEqB+E0MGTg4GRXmG7nZMOwklkorSYZUx0PwMLBPI0wwQYABHJUnjYbe1lAAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=5.317577172ffbf317890a.js.map