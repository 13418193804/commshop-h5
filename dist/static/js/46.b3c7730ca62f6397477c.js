webpackJsonp([46],{"G/+7":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("TToO"),i=o("7+uW"),s=o("c+8m"),n=o.n(s),l=o("DZ+H"),r=o("Fd2+"),d=o("TJML"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.orderId="",t.loading=!1,t.pageSize=20,t.messagelist=[],t.page=0,t}return a.c(t,e),t.prototype.loadMore=function(){var e=this;setTimeout(function(){e.loading||(e.loading=!0,console.log("guolu"),e.pageSize+=20,e.getList(),e.loading=!1)},1e3)},t.prototype.goCenter=function(e){"ORDER_MSG"==e.type&&this.goOrderDetail(e),"AWARD_MSG"==e.type&&this.goReward()},t.prototype.goOrderDetail=function(e){console.log("查看详情"),this.$router.push({name:"orderdetail",query:{orderId:e.actionValue}})},t.prototype.goReward=function(){console.log("积分详情"),this.$router.push({name:"my_reward"})},t.prototype.getList=function(){var e=this;i.default.prototype.$reqFormPost("/message/list",{userId:this.$store.getters[i.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[i.default.prototype.MutationTreeType.TOKEN_INFO].token,page:0,pageSize:this.pageSize},function(t){if(null!=t){if(200!=t.data.status)return console.log("需控制错误码"+t.data.status+",错误信息："+t.data.message),void Object(r.c)(t.data.message);console.log(e.messagelist.length,t.data.data.messageList.length),e.messagelist.length!=t.data.data.messageList.length&&(e.messagelist=t.data.data.messageList,e.loading=!1)}else console.log("网络请求错误！")})},t.prototype.handlePX=function(e,t){return e+":"+this.$store.getters[i.default.prototype.MutationTreeType.SYSTEM].availWidth/750*t+"px;"},t.prototype.mounted=function(){this.getList()},t=a.b([n()({components:{comhead:d.a},mixins:[l.a]})],t)}(i.default),u={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"messagePage",staticStyle:{"background-color":"#f3f3f3"}},[o("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",title:"消息中心",isRightIcon:"true"},on:{leftClick:!1}}),e._v(" "),o("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":e.loading,"infinite-scroll-distance":"20"}},e._l(e.messagelist,function(t,a){return o("li",{key:a,on:{click:function(o){e.goCenter(t)}}},[o("div",{staticClass:"flex flex-pack-justify",staticStyle:{"border-bottom":"1px solid #f4f4f4","background-color":"#fff"},style:e.handlePX("padding",20)+(0==t.status?"font-size: 14px;color:#000":"font-size: 14px;color:#a9a9a9")},[o("div",{staticStyle:{"font-size":"12px"}},[e._v(e._s(t.content))]),e._v(" "),o("div",{staticStyle:{"font-size":"12px","text-align":"right","vertical-align":"middle"},style:e.handlePX("width",300)},[e._v(e._s(t.updateTime))])])])}))],1)},staticRenderFns:[]};var g=o("VU/8")(c,u,!1,function(e){o("vJVH")},"data-v-055631e6",null);t.default=g.exports},vJVH:function(e,t){}});
//# sourceMappingURL=46.b3c7730ca62f6397477c.js.map