webpackJsonp([32],{"6hXQ":function(t,e){},k6mo:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("TToO"),s=i("7+uW"),o=i("c+8m"),l=i.n(o),n=i("gN+L"),d=i("DZ+H"),c=i("TJML"),r=i("ymRw"),u=i("ipus"),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tablist=["大家还看了","新品推荐"],e.tabgoodslist=[],e.likeList=[],e.newList=[],e.tabindex=0,e.isCollection=!1,e.goodsList=[],e.goodsId="",e.detatil={commentList:[],detail:{imageList:[]},goodsImg:"",goodsName:"",jingle:"",labelPrice:0,marketPrice:0,onlineStatus:"",sku:[],skuKey:[],storageNum:0},e.pageType="add",e.num=1,e.keepModel=!1,e.skuattr=[],e.chosenList=[],e.skuItem={},e}return a.c(e,t),e.prototype.go_comment=function(){this.$router.push({path:"/goodscomment",query:{goodsId:this.goodsId}})},e.prototype.onClickMiniBtn_service=function(){Object(r.Toast)("跳转到客服")},e.prototype.onClickMiniBtn_cart=function(){this.$router.push("/cart")},e.prototype.onClickMiniBtn_collection=function(){var t=this;0==this.isCollection?s.default.prototype.$reqFormPost("/fav/add",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId},function(e){null!=e?200==e.data.status?(Object(r.Toast)("已收藏"),t.collection_query()):console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message):console.log("网络请求错误！")}):1==this.isCollection&&s.default.prototype.$reqFormPost("/fav/delete",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsIds:this.goodsId},function(e){null!=e?200==e.data.status?(Object(r.Toast)("已取消"),t.collection_query()):console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message):console.log("网络请求错误！")})},e.prototype.collection_query=function(){var t=this;s.default.prototype.$reqFormPost("/fav/query",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token},function(e){if(null!=e)if(200==e.data.status){for(var i=0;i<e.data.data.goodsList.length;i++)if("-1"!==e.data.data.goodsList[i].goodsId.indexOf(t.goodsId))return void(t.isCollection=!0);t.isCollection=!1}else console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message);else console.log("网络请求错误！")})},e.prototype.addCar=function(){var t=this;this.skuItem.skuId?("pay"===this.pageType?s.default.prototype.$reqFormPost("/prepare/order/direct",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId,skuId:this.skuItem.skuId,num:this.num},function(e){if(null!=e){if(console.log(e),200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(r.Toast)(e.data.message);t.setPrepareId(e.data.data.prepareId),t.$router.push({path:"/settle"}),console.log("预支付订单ID",e.data.data.prepareId)}else console.log("网络请求错误！")}):this.addCart(),console.log(this.pageType)):Object(r.Toast)("请选择规格属性")},e.prototype.changeModel=function(t){t&&(this.pageType=t),this.keepModel=!this.keepModel},e.prototype.selectSku=function(t,e){var i=this;if(!e.disable){""!=(this.chosenList[t]||"")&&this.chosenList[t]===e.skuValueId?this.chosenList[t]="":this.chosenList[t]=e.skuValueId,this.chosenList=this.chosenList,this.skuItem={};if(this.detatil.skuKey.forEach(function(t,e){t.valueList.forEach(function(t,a){t.disable=!0;for(var s=0;s<i.detatil.sku.length;s++)if(i.detatil.sku[s].attrs[e].valueId==t.skuValueId){for(var o=!0,l=0;l<i.detatil.sku[s].attrs.length;l++)if(e!=l&&""!=(i.chosenList[l]||"")&&i.chosenList[l]!=i.detatil.sku[s].attrs[l].valueId){o=!1;break}if(o){t.disable=!1;break}}})}),this.chosenList.length===this.detatil.skuKey.length){if(function(){var t=!0;return i.chosenList.forEach(function(e,i){if(""===e)return t=!1,!1}),t})for(var a=0;a<this.detatil.sku.length;a++)for(var s=0,o=0;o<this.chosenList.length;o++)if(this.chosenList[o]===this.detatil.sku[a].attrs[o].valueId&&(console.log(this.chosenList[o]===this.detatil.sku[a].attrs[o].valueId,this.detatil.sku[a].attrs[o]),(s+=1)===this.chosenList.length)){this.skuItem=this.detatil.sku[a];break}}this.chosenList.push()}},e.prototype.addCart=function(){var t=this;s.default.prototype.$reqFormPost("/shop/cart/add",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId,skuId:this.skuItem.skuId},function(e){null!=e?200==e.data.status?(Object(r.Toast)("加入成功"),t.keepModel=!1,console.log("加入购物车",e.data)):console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message):console.log("网络请求错误！")})},e.prototype.getProductDetail=function(){var t=this;s.default.prototype.$reqFormPost("/goods/front/detail",{userId:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsId:this.goodsId},function(e){null!=e?200==e.data.status?(console.log("res.data",e.data),e.data.data.singleStatus&&(t.skuItem=e.data.data.sku[0]),t.detatil=e.data.data,t.tabgoodslist=e.data.data.likeList,t.likeList=e.data.data.likeList,t.newList=e.data.data.newList,t.detatil.skuKey.forEach(function(e,i){e.valueList.forEach(function(e,a){var s={disable:!0,chosen:!1};t.detatil.sku.forEach(function(t,a){if(e.skuValueId===t.attrs[i].valueId)return s.disable=!1,!1}),Object.assign(e,s)})})):console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message):console.log("网络请求错误！")})},e.prototype.selecttablist=function(t){this.tabgoodslist=[],0==t&&(this.tabgoodslist=this.likeList,this.tabindex=0),1==t&&(this.tabgoodslist=this.newList,this.tabindex=1)},e.prototype.goProductDetail=function(t){this.$router.push({path:"/productdetail",query:{goodsId:t}})},e.prototype.handlePX=function(t,e){return t+":"+this.$store.getters[s.default.prototype.MutationTreeType.SYSTEM].availWidth/750*e+"px;"},e.prototype.mounted=function(){console.log(this.$store.getters[s.default.prototype.MutationTreeType.TOKEN_INFO]),this.$route.query.availWidth&&this.$route.query.availHeight&&this.setlabelActive({availWidth:this.$route.query.availWidth,availHeight:this.$route.query.availHeight}),this.goodsId=this.$route.query.goodsId,this.getProductDetail(),console.log("----------------------"),this.collection_query()},a.b([Object(u.a)("setPrepareId")],e.prototype,"setPrepareId",void 0),a.b([Object(u.a)("setlabelActive")],e.prototype,"setlabelActive",void 0),e=a.b([l()({components:{Swipe:n.a,comhead:c.a},mixins:[d.a]})],e)}(s.default),p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-contents",staticStyle:{width:"100%","background-color":"#e4e4e4",overflow:"auto",height:"100vh"}},[a("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",contextIndex:!0,isRightIcon:"true"},on:{leftClick:!1}}),t._v(" "),a("van-swipe",{attrs:{autoplay:3e3}},t._l(t.detatil.goodsImg.split(","),function(t,e){return a("van-swipe-item",{key:e},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"image"}],staticStyle:{width:"100%"}})])})),t._v(" "),a("div",{staticClass:"goodsTitle"},[a("div",{staticClass:"goodstitle"},[a("div",[t._v(t._s(t.detatil.goodsName))]),t._v(" "),a("div",{staticStyle:{"font-size":"14px",color:"#666"}},[t._v(t._s(t.detatil.jingle))]),t._v(" "),a("div",[a("span",{staticClass:"marketPrice"},[t._v("  ￥"+t._s(t.detatil.marketPrice))]),t._v(" "),a("span",{staticClass:"labelPrice",staticStyle:{margin:"0 10px","font-size":"14px"}},[t._v("原价:"+t._s(t.detatil.labelPrice))])])]),t._v(" "),a("div",{staticClass:"comment"},[a("div",[t._v("用户评价")]),t._v(" "),a("div",[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",28)+t.handlePX("height",24)}),t._v(" "),a("span",[t._v("999")])])])]),t._v(" "),a("div",{staticClass:"functionList",staticStyle:{"margin-top":"10px"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"请选择规格数量","is-link":""}}),t._v(" "),a("van-cell",{attrs:{title:"限制：特价商品不可与优惠卷叠加使用"}}),t._v(" "),a("van-cell",{attrs:{"is-link":""}},[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v("领卷：")]),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",112)+t.handlePX("height",26)})])],2),t._v(" "),a("van-cell",[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v("备注：")]),t._v(" "),a("span",{staticStyle:{color:"#ff6d72"}},[t._v("【新货促销，1周内发货】")])])],2),t._v(" "),a("van-cell",[a("template",{slot:"title"},[a("span",{staticClass:"van-cell-text"},[t._v("服务：")]),t._v(" "),a("span",[t._v("7天无忧退换货")]),t._v(" "),a("span",[t._v("24小时快速退款")]),t._v(" "),a("span",[t._v("中宜自营严选")])])],2)],1)],1),t._v(" "),a("div",{staticClass:"userCommentList",staticStyle:{"background-color":"#ffffff","margin-top":"10px"},attrs:{id:"detail"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"用户评价","is-link":"",value:"99%好评"},on:{click:function(e){t.go_comment()}}})],1),t._v(" "),t._l(t.detatil.commentList,function(e,s){return a("div",{key:s},[a("div",{staticClass:"userComment",staticStyle:{padding:"10px 15px"}},[a("div",[a("img",{staticStyle:{"vertical-align":"middle","border-radius":"50%"},style:t.handlePX("width",45)+t.handlePX("height",45),attrs:{src:i("XYG7")}}),t._v(" "),a("span",[t._v(t._s(e.user.nickName))]),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],staticStyle:{"vertical-align":"middle"},style:t.handlePX("width",140)+t.handlePX("height",25)})]),t._v(" "),a("div",{staticStyle:{color:"#999999"}},[t._v(t._s(e.createTime))]),t._v(" "),a("div",[t._v(t._s(e.commentContent))]),t._v(" "),t._l(e.commentImg,function(i,s){return e.commentImg?a("div",{key:s},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"1",expression:"'1'"}],style:t.handlePX("width",100)+t.handlePX("height",100)})]):t._e()})],2)])})],2),t._v(" "),a("div",{staticClass:"recommend",staticStyle:{"background-color":"#ffffff","margin-top":"10px","z-index":"2"}},[a("van-tabs",{on:{click:t.selecttablist}},t._l(t.tablist,function(e,s){return a("van-tab",{key:s,attrs:{title:e}},[s==t.tabindex?a("div",{staticStyle:{display:"flex",overflow:"auto"}},t._l(t.tabgoodslist,function(s,o){return a("div",{key:o,style:t.handlePX("padding-bottom",65)+t.handlePX("padding-top",20)+t.handlePX("padding-left",30),on:{click:function(i){t.goProductDetail(e.goodsId)}}},[a("div",{staticStyle:{border:"1px #e5e5e5 solid","box-sizing":"border-box",display:"flex","align-items":"center","justify-content":"center",overflow:"hidden",position:"relative"},style:t.handlePX("height",410)+t.handlePX("width",345)},[a("img",{staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0",left:"0","z-index":"2"},style:t.handlePX("width",43)+t.handlePX("height",49),attrs:{src:i("HORy")}}),t._v(" "),a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.goodsImg.split(",")[0],expression:"items.goodsImg.split(',')[0]"}],staticStyle:{width:"-webkit-fill-available",position:"absolute",top:"0"}}),t._v(" "),a("div",{staticClass:"textLabel",staticStyle:{position:"absolute",bottom:"0",width:"100%","background-color":"rgba(207,207,207,0.3)","text-align":"center",color:"#A3A3A3"},style:t.handlePX("height",70)+t.handlePX("line-height",70)+t.handlePX("font-size",28)},[t._v(t._s(s.jingle))])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center","flex-direction":"column",width:"-webkit-fill-available"},style:t.handlePX("width",345)},[a("div",[a("img",{style:t.handlePX("width",52)+t.handlePX("height",25),attrs:{src:i("ILWi")}}),t._v(" "),a("img",{style:t.handlePX("width",52)+t.handlePX("height",25),attrs:{src:i("tp/U")}})]),t._v(" "),a("div",{staticClass:"textLabel",style:t.handlePX("font-size",28)+t.handlePX("line-height",40)},[t._v(t._s(s.goodsName))]),t._v(" "),a("div",{staticStyle:{color:"#E05459"},style:t.handlePX("font-size",30)+t.handlePX("line-height",40)},[t._v("￥"+t._s(s.labelPrice))])])])})):t._e()])}))],1),t._v(" "),a("div",{staticStyle:{"background-color":"#ffffff","margin-top":"10px",padding:"10px 15px"}},[a("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ededed"}},[a("div",{staticStyle:{color:"#a3a3a3"},style:t.handlePX("width",150)},[t._v("颜色")]),t._v(" "),a("div",{staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{style:t.handlePX("line-height",50)},[t._v("酒红，白色")])])]),t._v(" "),a("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ededed"}},[a("div",{staticStyle:{color:"#a3a3a3"},style:t.handlePX("width",150)},[t._v("主要材质")]),t._v(" "),a("div",{staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{style:t.handlePX("line-height",50)},[t._v("外枕套：60%聚酯纤维，40%莱赛尔纤维")]),t._v(" "),a("div",{style:t.handlePX("line-height",50)},[t._v("外枕套：60%聚酯纤维，40%莱赛尔纤维")])])]),t._v(" "),a("div",{staticStyle:{display:"flex","border-bottom":"1px solid #ededed"}},[a("div",{staticStyle:{color:"#a3a3a3"},style:t.handlePX("width",150)},[t._v("温馨提示")]),t._v(" "),a("div",{staticStyle:{flex:"1","padding-left":"10px"}},[a("div",{style:t.handlePX("line-height",50)},[t._v("1、双层内外枕套配有拉链可拆洗，可直接打开看到")]),t._v(" "),a("div",{style:t.handlePX("line-height",50)},[t._v("1、双层内外枕套配有拉链可拆洗，可直接打开看到")]),t._v(" "),a("div",{style:t.handlePX("line-height",50)},[t._v("外枕套：60%聚酯纤维，40%莱赛尔纤维")])])])]),t._v(" "),a("div",{staticStyle:{"background-color":"#ffffff","margin-top":"10px"}},t._l(t.detatil.detail.imageList,function(t,e){return a("div",{key:e},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticStyle:{width:"100%"}})])})),t._v(" "),a("van-goods-action",{staticStyle:{"z-index":"90","background-color":"#ffffff"}},[a("van-goods-action-mini-btn",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"chat",text:"客服"},on:{click:t.onClickMiniBtn_service}}),t._v(" "),a("van-goods-action-mini-btn",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"cart",text:"购物车"},on:{click:t.onClickMiniBtn_cart}}),t._v(" "),a("van-goods-action-mini-btn",{class:{collection_color:t.isCollection},staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"like",text:"收藏"},on:{click:t.onClickMiniBtn_collection}}),t._v(" "),a("van-goods-action-big-btn",{staticStyle:{flex:"1"},attrs:{text:"立即购买"},on:{click:function(e){t.changeModel("pay")}}}),t._v(" "),a("van-goods-action-big-btn",{staticStyle:{flex:"1"},attrs:{text:"加入购物车",primary:""},on:{click:function(e){t.changeModel("cart")}}})],1),t._v(" "),a("div",{class:t.keepModel?"bg_shop1":"bg_shop_none1",staticStyle:{"background-color":"rgba(0, 0, 0, 0.498039)",height:"100%",width:"100%"},on:{click:function(e){t.changeModel()}}},[a("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[a("div",{class:t.keepModel?"modiaBoxUp2":"modiaBoxDown2",staticStyle:{"background-color":"#fff",width:"100%"},on:{click:function(t){t.stopPropagation()}}},[a("div",{staticStyle:{"border-bottom":"1px solid #e5e5e5",display:"flex","margin-left":"15px","justify-content":"space-between"}},[a("div",{staticStyle:{padding:"6px","margin-top":"-35px","border-radius":"5px","background-color":"#fff",border:"1px solid #e5e5e5","margin-bottom":"20px",display:"flex"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.skuItem.skuImgUrl?t.skuItem.skuImgUrl:t.detatil.goodsImg.split(",")[0],expression:"skuItem.skuImgUrl?skuItem.skuImgUrl :detatil['goodsImg'].split(',')[0]"}],staticStyle:{width:"80px",height:"80px"}})]),t._v(" "),a("div",{staticStyle:{"font-size":"13px",flex:"1"}},[a("div",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.detatil.goodsName))]),t._v(" "),a("div",{staticStyle:{color:"#666"}},[t._v(t._s(t.detatil.jingle))]),t._v(" "),a("div",{staticStyle:{margin:"10px",height:"40px",overflow:"hidden","font-size":"14px"}},[t._v("单价:\n          "),a("span",{staticStyle:{"font-size":"18px",color:"rgb(229, 28, 35)"}},[t._v("￥"+t._s(t.skuItem.marketPrice?t.skuItem.marketPrice:t.detatil.marketPrice))])])]),t._v(" "),a("div",{staticStyle:{padding:"10px"}})]),t._v(" "),a("div",{staticStyle:{"font-size":"14px","max-height":"300px",overflow:"auto"}},t._l(t.detatil.skuKey,function(e,i){return a("div",{key:i},[a("div",{staticStyle:{padding:"5px 20px 0"}},[t._v(t._s(e.skuKeyIdName))]),t._v(" "),a("div",{staticClass:"skuKeyBox"},t._l(e.valueList,function(e,s){return a("div",{key:s},[a("div",{class:t.chosenList[i]===e?"sku_box_select":"sku_box",style:e.disable?"color:#ccc;":""+t.chosenList[i]===e.skuValueId?"background-color:#E41C24;color:#fff":"",on:{click:function(a){a.stopPropagation(),t.selectSku(i,e)}}},[t._v(t._s(e.skuValueName))])])}))])})),t._v(" "),a("div",{staticClass:"num_box"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[t._v("数量：")]),t._v(" "),a("van-stepper",{staticStyle:{float:"right"},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1),t._v(" "),a("div",[a("van-goods-action",{staticClass:"vangoods",staticStyle:{"z-index":"90","background-color":"#ffffff"}},[a("van-goods-action-mini-btn",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"chat",text:"客服"},on:{click:t.onClickMiniBtn_service}}),t._v(" "),a("van-goods-action-mini-btn",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"cart",text:"购物车"},on:{click:t.onClickMiniBtn_cart}}),t._v(" "),a("van-goods-action-mini-btn",{class:{collection_color:t.isCollection},staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",padding:"0 10px"},attrs:{icon:"like",text:"收藏"},on:{click:t.onClickMiniBtn_collection}}),t._v(" "),a("van-goods-action-big-btn",{staticStyle:{flex:"1"},attrs:{text:"立即购买"},on:{click:function(e){t.addCar()}}}),t._v(" "),a("van-goods-action-big-btn",{staticStyle:{flex:"1"},attrs:{text:"加入购物车",primary:""},on:{click:function(e){t.addCar()}}})],1)],1)])])]),t._v(" "),a("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},t._l(t.detatil.imageList,function(t,e){return a("div",{key:e,staticStyle:{"line-height":"0"}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],staticStyle:{width:"100%"}})])})),t._v(" "),a("div",{staticStyle:{height:"50px"}})],1)},staticRenderFns:[]};var h=i("VU/8")(v,p,!1,function(t){i("6hXQ")},"data-v-32b5a8d0",null);e.default=h.exports}});
//# sourceMappingURL=32.0608dac0b6dbc8ce05b8.js.map