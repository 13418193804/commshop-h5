webpackJsonp([29],{"90dd":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("TToO"),i=o("7+uW"),a=o("c+8m"),l=o.n(a),n=o("DZ+H"),d=o("Fd2+"),c=o("TJML"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goodsList=[],e.checkedGoods=[],e.isShow=!1,e}return s.c(e,t),e.prototype.toggle=function(){this.isShow=!this.isShow},e.prototype.favdelete=function(){var t=this;0!=this.checkedGoods.length?d.a.confirm({title:"提示",message:"确定要取消收藏吗？"}).then(function(){i.default.prototype.$reqFormPost("/fav/delete",{userId:t.$store.getters[i.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:t.$store.getters[i.default.prototype.MutationTreeType.TOKEN_INFO].token,goodsIds:t.checkedGoods},function(e){if(null!=e)return 200!=e.data.status?(console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(d.c)(e.data.message)):void t.getProductList();console.log("网络请求错误！")})}).catch(function(){}):Object(d.c)("没有选商品")},e.prototype.allchange=function(){if(this.goodsList.length==this.checkedGoods.length)this.checkedGoods=[];else{var t=[];this.goodsList.forEach(function(e,o){console.log(),t.push(e.goodsId)}),this.checkedGoods=t}},e.prototype.getProductList=function(){var t=this;i.default.prototype.$reqFormPost("/fav/query",{userId:this.$store.getters[i.default.prototype.MutationTreeType.TOKEN_INFO].userId,token:this.$store.getters[i.default.prototype.MutationTreeType.TOKEN_INFO].token,page:0,pageSize:20},function(e){if(null!=e){if(200!=e.data.status)return console.log("需控制错误码"+e.data.status+",错误信息："+e.data.message),void Object(d.c)(e.data.message);t.goodsList=e.data.data.goodsList,console.log(e.data.data.goodsList)}else console.log("网络请求错误！")})},e.prototype.goProductDetail=function(t){this.$router.push({path:"/productdetail",query:{goodsId:t}})},e.prototype.handlePX=function(t,e){return t+":"+this.$store.getters[i.default.prototype.MutationTreeType.SYSTEM].availWidth/750*e+"px;"},e.prototype.mounted=function(){this.getProductList(),console.log("收藏页面")},e=s.b([l()({components:{comhead:c.a},mixins:[n.a]})],e)}(i.default),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tab-contents",staticStyle:{height:"-webkit-fill-available","background-color":"#FFFFFF"}},[t.goodsList.length>0?s("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",rightTitle:t.isShow?"取消":"编辑",title:"我的收藏"},on:{rightClick:function(e){t.toggle()},leftClick:!1}}):t._e(),t._v(" "),0==t.goodsList.length?s("comhead",{ref:"comhead",attrs:{isLeftIcon:"icon-zuo",leftIconName:"angle-left",title:"我的收藏"},on:{leftClick:!1}}):t._e(),t._v(" "),t._l(t.goodsList,function(e,i){return s("div",{key:i,staticClass:"flex flex-align-center",staticStyle:{"flex-direction":"row","border-bottom":"1px solid #e5e5e5"}},[s("div",[s("van-checkbox-group",{model:{value:t.checkedGoods,callback:function(e){t.checkedGoods=e},expression:"checkedGoods"}},[s("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticStyle:{"margin-left":"5px"},attrs:{name:e.goodsId}})],1)],1),t._v(" "),s("div",{staticClass:"flex",style:t.handlePX("width",720),attrs:{for:e.goodsId},on:{click:function(o){t.goProductDetail(e.goodsId)}}},[s("div",{staticClass:"flex flex-1",staticStyle:{padding:"10px"}},[s("div",{staticClass:"flex flex-pack-center flex-align-center",staticStyle:{overflow:"hidden"},style:t.handlePX("height",200)+t.handlePX("width",200)},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goodsImg.split(",")[0],expression:"item.goodsImg.split(',')[0]"}],staticStyle:{width:"100%"}})]),t._v(" "),s("div",{staticClass:"textLabel flex-1",staticStyle:{"padding-left":"10px"},style:t.handlePX("line-height",48)},[s("div",{staticClass:"flex flex-align-center",staticStyle:{"max-width":"calc"}},[e.bargainStatus?s("img",{staticStyle:{"vertical-align":"middle"},style:t.handlePX("width",62)+t.handlePX("height",30),attrs:{src:o("tp/U")}}):t._e(),t._v(" "),s("div",{staticClass:"textLabel",staticStyle:{color:"#000000","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},style:t.handlePX("font-size",28)+t.handlePX("width",320)},[t._v(t._s(e.goodsName))])]),t._v(" "),s("div",{staticClass:"textLabel",staticStyle:{color:"#A3A3A3"},style:t.handlePX("font-size",28)+t.handlePX("line-height",44)+t.handlePX("width",t.isShow?"370":"460")},[t._v(t._s(e.jingle))]),t._v(" "),s("div",{staticStyle:{"padding-top":"5px"}},[s("span",{staticStyle:{color:"#E05459"},style:t.handlePX("font-size",34)},["RETAIL"==e.goodsType?s("span",[t._v("￥")]):t._e(),t._v("\n                                    "+t._s(e.marketPrice)),"SCORE"==e.goodsType?s("span",[t._v("积分")]):t._e()]),t._v(" "),"RETAIL"==e.goodsType?s("span",{staticStyle:{color:"#C5C4C4","text-decoration":"line-through","margin-left":"5px"},style:t.handlePX("font-size",24)},[t._v("原价:"+t._s(e.labelPrice))]):t._e()])])])])])}),t._v(" "),0==t.goodsList.length?s("div",{staticStyle:{position:"fixed",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"}},[t._v("\n    暂无收藏\n  ")]):t._e(),t._v(" "),t.goodsList.length>0&&1==t.isShow?s("div",{staticClass:"flex",staticStyle:{position:"fixed","z-index":"100",bottom:"0",left:"0",right:"0","background-color":"#fafafa"}},[s("div",{staticClass:"flex-1",staticStyle:{color:"#a3a3a3","text-align":"center",padding:"10px 0"},on:{click:function(e){t.allchange()}}},[t._v(t._s(t.goodsList.length==t.checkedGoods.length?"取消全选":"全选"))]),t._v(" "),s("div",{staticClass:"flex-1",staticStyle:{color:"#e05459","text-align":"center",padding:"10px 0"},on:{click:function(e){t.favdelete()}}},[t._v("删除")])]):t._e()],2)},staticRenderFns:[]};var g=o("VU/8")(r,h,!1,function(t){o("XIf6")},"data-v-7807ccb2",null);e.default=g.exports},XIf6:function(t,e){}});
//# sourceMappingURL=29.89fec8b785423bc45ca0.js.map