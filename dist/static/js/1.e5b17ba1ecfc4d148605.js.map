{"version":3,"sources":["webpack:///./src/pages/product/productList.vue?b5bd","webpack:///./src/pages/product/productList.vue?57ab","webpack:///./src/pages/product/productList.vue"],"names":["_super","ProductList","_this","apply","this","arguments","secCategoryItem","list","loading","finished","selectIndex","catlist","goodsList","catId","parentCatId","pageIndex","title","tslib_es6","prototype","goProductDetail","goodsId","$router","push","path","query","selectCatItem","index","item","getProductList","replace","loadMore","setTimeout","vue_esm","$reqFormPost","page","pageSize","res","data","status","console","log","message","Object","es","length","getCategoryList","parentId","mounted","$route","handlePX","CssName","PxNumber","$store","getters","MutationTreeType","SYSTEM","availWidth","vue_class_component_common_default","components","Swipe","comhead","Comhead","mixins","mixin","product_productList","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","isLeftIcon","leftIconName","isRightIcon","on","leftClick","_v","active","click","_l","key","catName","staticStyle","background-color","height","color","text-align","style","_s","directives","name","rawName","value","expression","infinite-scroll-disabled","infinite-scroll-distance","goodsListindex","width","$event","overflow","border","box-sizing","position","margin","top","left","src","__webpack_require__","_e","goodsImg","split","z-index","bottom","jingle","goodsName","marketPrice","font-size","padding","staticRenderFns","Component","normalizeComponent","productList","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.e5b17ba1ecfc4d148605.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport Swipe from \"../../components/Swipe.vue\";\nimport mixin from \"../../config/mixin\";\nimport comhead from \"../../components/Comhead.vue\";\nimport { List,Toast } from \"vant\";\n@Component({\n  components: {\n    Swipe,\n    comhead\n  },\n  mixins: [mixin]\n})\nexport default class ProductList extends Vue {\n  secCategoryItem = {};\n  list = [];\n  loading = false;\n  finished = false;\n  selectIndex = \"\";\n  catlist = \"\";\n  goodsList = [];\n  catId = \"\";\n  parentCatId = \"\";\n  pageIndex = 20;\n  title = \"\";\n  goProductDetail(goodsId) {\n    this.$router.push({\n      path: \"/productdetail\",\n      query: {\n        goodsId: goodsId\n      }\n    });\n  }\n  selectCatItem(index) {\n    let item = this.catlist[index];\n    if (item[\"catId\"] != this.catId) {\n      this.goodsList = [];\n      this.pageIndex = 20;\n    }\n    this.catId = item[\"catId\"];\n    this.selectIndex = index;\n    this.getProductList();\n    this.$router.replace({\n      path: \"/productlist\",\n      query: {\n        catId: this.catId,\n        parentCatId: this.parentCatId,\n        selectIndex: index,\n        title: this.title\n      }\n    });\n  }\n  loadMore() {\n    this.loading = true;\n    let self = this;\n    setTimeout(() => {\n      this.pageIndex += 20;\n      this.getProductList();\n    }, 1000);\n  }\n  getProductList() {\n    Vue.prototype.$reqFormPost(\n      \"/user/goods/list\",\n      {\n        catId: this.catId,\n        page: 0,\n        pageSize: this.pageIndex\n      },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          console.log(\n            \"需控制错误码\" + res.data.status + \",错误信息：\" + res.data.message\n          );\n          Toast(res.data.message)\n          return;\n        }\n\n        if (this.loading) {\n          this.goodsList = res.data.data.goodsList;\n          if (res.data.data.goodsList.length != this.pageIndex) {\n            this.loading = false;\n          }\n        }\n      }\n    );\n  }\n\n  getCategoryList() {\n    Vue.prototype.$reqFormPost(\n      \"/user/cat/list\",\n      {\n        parentId: this.parentCatId\n      },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          console.log(\n            \"需控制错误码\" + res.data.status + \",错误信息：\" + res.data.message\n          );\n          Toast(res.data.message)\n          return;\n        }\n        this.catlist = res.data.data;\n        console.log(\"getCategoryList\", res.data.data);\n      }\n    );\n  }\n\n  mounted() {\n    //load products\n    this.catId = this.$route.query.catId;\n    this.getProductList();\n\n    //load categories\n    this.parentCatId = this.$route.query.parentCatId;\n    this.getCategoryList();\n\n    //load selectIndex\n    this.selectIndex = this.$route.query.selectIndex;\n\n    //load title\n    this.title = this.$route.query.title;\n  }\n\n  handlePX(CssName, PxNumber) {\n    return (\n      CssName +\n      \":\" +\n      this.$store.getters[Vue.prototype.MutationTreeType.SYSTEM].availWidth /\n        750 *\n        PxNumber +\n      \"px;\"\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/product/productList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-contents\"},[_c('comhead',{ref:\"comhead\",attrs:{\"isLeftIcon\":\"icon-zuo\",\"leftIconName\":\"angle-left\",\"title\":_vm.title,\"isRightIcon\":\"true\"},on:{\"leftClick\":false}}),_vm._v(\" \"),_c('van-tabs',{attrs:{\"active\":_vm.selectIndex},on:{\"click\":_vm.selectCatItem}},_vm._l((_vm.catlist),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.catName}},[(_vm.selectIndex == index)?_c('div',[_c('div',{staticStyle:{\"background-color\":\"#f7f7f7\",\"height\":\"10px\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#000000\",\"text-align\":\"center\"},style:(_vm.handlePX('line-height',100)+_vm.handlePX('font-size',32))},[_vm._v(_vm._s(_vm.catlist[_vm.selectIndex].catName))]),_vm._v(\" \"),_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMore),expression:\"loadMore\"}],attrs:{\"infinite-scroll-disabled\":\"loading\",\"infinite-scroll-distance\":\"10\"}},[_c('li',[_c('div',{staticClass:\"flex flex-warp-justify\"},_vm._l((_vm.goodsList),function(item,goodsListindex){return _c('div',{key:goodsListindex,staticStyle:{\"width\":\"50%\"}},[_c('div',{staticClass:\"bodyItem flex flex-pack-center\",style:(_vm.handlePX('margin-bottom',50)),on:{\"click\":function($event){_vm.goProductDetail(item.goodsId)}}},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('div',{staticClass:\"flex flex-pack-center flex-align-center\",staticStyle:{\"border\":\"1px #e5e5e5 solid\",\"box-sizing\":\"border-box\",\"overflow\":\"hidden\",\"position\":\"relative\",\"margin\":\"5px auto\"},style:(_vm.handlePX('height', 410)+_vm.handlePX('width', 345))},[(item.hotStatus)?_c('img',{staticStyle:{\"width\":\"-webkit-fill-available\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\"},style:(_vm.handlePX('width', 43)+_vm.handlePX('height', 49)),attrs:{\"src\":require(\"../../assets/image/热.png\")}}):_vm._e(),_vm._v(\" \"),_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.goodsImg.split(',')[0]),expression:\"item.goodsImg.split(',')[0]\"}],staticStyle:{\"width\":\"-webkit-fill-available\",\"position\":\"absolute\",\"top\":\"0\",\"z-index\":\"-1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"textLabel\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\",\"width\":\"100%\",\"background-color\":\"rgba(207,207,207,0.3)\",\"text-align\":\"center\",\"color\":\"#A3A3A3\"},style:(_vm.handlePX('height', 70)+_vm.handlePX('line-height', 70)+_vm.handlePX('font-size', 28))},[_vm._v(_vm._s(item.jingle))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0 5px\"}},[_c('div',[(item.bargainStatus)?_c('img',{style:(_vm.handlePX('width',52)+_vm.handlePX('height',25)),attrs:{\"src\":require(\"../../assets/image/满减.png\")}}):_vm._e(),_vm._v(\" \"),(item.isBargain)?_c('img',{style:(_vm.handlePX('width',52)+_vm.handlePX('height',25)),attrs:{\"src\":require(\"../../assets/image/特价.png\")}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"textLabel\",staticStyle:{\"color\":\"#000000\"},style:(_vm.handlePX('font-size',28))},[_vm._v(_vm._s(item.goodsName))]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"#E05459\"},style:(_vm.handlePX('font-size',30))},[_vm._v(\"￥\"+_vm._s(item.marketPrice))])])])])])}))])])]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-pack-center flex-align-center\",staticStyle:{\"font-size\":\"14px\",\"padding\":\"15px\"}},[(!_vm.loading)?_c('div',[_vm._v(\"加载中...\")]):_c('div',[_vm._v(\"-\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e937518\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/product/productList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e937518\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./productList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productList.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e937518\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./productList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e937518\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/product/productList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}