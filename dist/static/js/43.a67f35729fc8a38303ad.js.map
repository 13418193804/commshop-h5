{"version":3,"sources":["webpack:///./src/pages/login/sign.vue?78ff","webpack:///./src/pages/login/sign.vue?78ba","webpack:///./src/pages/login/sign.vue"],"names":["_super","Sign","_this","apply","this","arguments","loginName","password","repassword","code","isGetverify","timerNum","timer","recommontId","tslib_es6","prototype","timelop","self","console","log","setInterval","clearInterval","setLoginVerifyCode","getVistyCode","length","vue_esm","$reqFormPost","mobile","type","res","data","status","message","Object","es","vistyText","$store","getters","MutationTreeType","VERCODE","doSign","__webpack_require__","createHash","update","digest","$router","push","handlePX","CssName","PxNumber","SYSTEM","availWidth","mounted","$route","query","lib","vue_class_component_common_default","components","comhead","Comhead","mixins","mixin","login_sign","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","isLeftIcon","title","on","leftClick","_v","style","staticStyle","text-align","placeholder","model","value","callback","$$v","expression","slot","size","click","$event","_s","margin","block","color","href","staticRenderFns","Component","normalizeComponent","sign","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.a67f35729fc8a38303ad.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport mixin from \"../../config/mixin\";\nimport { Action } from \"vuex-class\";\nimport { Toast } from \"vant\";\nimport comhead from \"../../components/Comhead.vue\";\n\n// import { recommendList } from '../../service/getData';\n\n@Component({\n  components: {\n    comhead\n  },\n  mixins: [mixin]\n})\nexport default class Sign extends Vue {\n  @Action(\"setLoginVerifyCode\") setLoginVerifyCode;\n  loginName = \"\";\n  password = \"\";\n  repassword = \"\";\n  code = \"\";\n  isGetverify = true; //当前允许发送验证码\n  timerNum = 60;\n  timer = 60;\n  recommontId = \"\";\n  timelop() {\n    let self = this;\n\n    console.log(\"获取验证码\");\n    self.timer = setInterval(function() {\n      self.isGetverify = true;\n      if (self.timerNum >= 1) {\n        self.timerNum--;\n      } else {\n        clearInterval(self.timer);\n        self.timerNum = 60;\n      }\n      // let verInfo={\n      //       type : 'setsign',\n      //       num : self.timerNum\n      //   }\n      self.setLoginVerifyCode(self.timerNum);\n\n      console.log(self.timerNum);\n    }, 1000);\n  }\n\n  getVistyCode() {\n    //验证手机号码\n    if ((this.loginName || \"\") == \"\") {\n      Toast(\"请输入手机号码\");\n      return;\n    }\n    if (this.loginName.length != 11) {\n      Toast(\"手机号码格式不对\");\n      return;\n    }\n\n    if (!this.isGetverify) {\n      return;\n    }\n\n    //getCode\n    Vue.prototype.$reqFormPost(\n      \"/auth/getsmscode\",\n      { mobile: this.loginName, type: \"REGISTER\" },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          console.log(\n            \"需控制错误码\" + res.data.status + \",错误信息：\" + res.data.message\n          );\n          Toast(res.data.message);\n\n          return;\n        }\n        Toast(\"发送成功\");\n        this.timelop();\n      }\n    );\n  }\n  vistyText() {\n    if (this.$store.getters[Vue.prototype.MutationTreeType.VERCODE] < 60) {\n      this.isGetverify = false;\n      return this.$store.getters[Vue.prototype.MutationTreeType.VERCODE] + \"s\";\n    } else {\n      this.isGetverify = true;\n      return \"获取验证码\";\n    }\n  }\n  doSign() {\n   if ((this.loginName || \"\") == \"\") {\n      Toast(\"请输入手机号码\");\n      return;\n    }\n       if ((this.code || \"\") == \"\") {\n      Toast(\"请输入验证码\");\n      return;\n    }\n       if ((this.code || \"\") == \"\") {\n      Toast(\"请输入密码\");\n      return;\n    }\n    //验证\n    if (this.password.length < 6) {\n      Toast(\"请输入最少6位的密码\");\n      return;\n    }\n    if(this.password != this.repassword){\n      Toast('两次输入密码不一致 ')\n      return\n    }\n    Vue.prototype.$reqFormPost(\n      \"/auth/register\",\n      {\n        loginName: this.loginName,\n        password: require(\"crypto\")\n          .createHash(\"md5\")\n          .update(this.password)\n          .digest(\"hex\"),\n        code: this.code,\n        recommontId: this.recommontId //推荐者ID\n      },\n      res => {\n        if (res == null) {\n          console.log(\"网络请求错误！\");\n          return;\n        }\n        if (res.data.status != 200) {\n          Toast(res.data.message);\n\n          return;\n        }\n        Toast(\"注册成功\");\n        this.$router.push(\"/login\");\n      }\n    );\n  }\n  handlePX(CssName, PxNumber) {\n    return (\n      CssName +\n      \":\" +\n      this.$store.getters[Vue.prototype.MutationTreeType.SYSTEM].availWidth /\n        750 *\n        PxNumber +\n      \"px;\"\n    );\n  }\n  mounted() {\n    this.recommontId = this.$route.query.recommontId\n      ? this.$route.query.recommontId\n      : \"\";\n    if (this.$store.getters[Vue.prototype.MutationTreeType.VERCODE] < 60) {\n      this.timerNum = this.$store.getters[\n        Vue.prototype.MutationTreeType.VERCODE\n      ];\n      // this.isGetverify= true;\n      this.timelop();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/login/sign.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-contents\"},[_c('comhead',{ref:\"comhead\",attrs:{\"isLeftIcon\":\"icon-zuo\",\"title\":\"用户注册\"},on:{\"leftClick\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"bodyLabel\",style:(_vm.handlePX('padding-top',80))},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',620)+_vm.handlePX('margin-bottom',36)+_vm.handlePX('height',90)),attrs:{\"type\":\"number\",\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.loginName),callback:function ($$v) {_vm.loginName=$$v},expression:\"loginName\"}}),_vm._v(\" \"),_c('div',{staticClass:\"sign-code-group\"},[_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',295)+_vm.handlePX('height',90)),attrs:{\"placeholder\":\"请输入验证码\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_vm._v(\" \"),_c('van-button',{staticClass:\"sign-mini-button\",style:(_vm.handlePX('width',295)+_vm.handlePX('height',90)),attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.getVistyCode()}},slot:\"button\"},[_vm._v(_vm._s(_vm.vistyText()))])],1),_vm._v(\" \"),_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',620)+_vm.handlePX('margin-top',36)+_vm.handlePX('height',90)),attrs:{\"type\":\"password\",\"placeholder\":\"请输入6位以上密码\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('van-field',{staticClass:\"sign-input\",style:(_vm.handlePX('width',620)+_vm.handlePX('margin-top',36)+_vm.handlePX('height',90)),attrs:{\"type\":\"password\",\"placeholder\":\"请确认密码\"},model:{value:(_vm.repassword),callback:function ($$v) {_vm.repassword=$$v},expression:\"repassword\"}}),_vm._v(\" \"),_c('van-button',{staticClass:\"sign-button\",staticStyle:{\"margin\":\"20px 0\"},style:(_vm.handlePX('width',620)+_vm.handlePX('margin-top',390)+_vm.handlePX('height',90)),attrs:{\"size\":\"normal\",\"block\":true},on:{\"click\":function($event){_vm.doSign()}}},[_vm._v(\"立即注册\")]),_vm._v(\" \"),_c('div',[_c('p',{staticStyle:{\"color\":\"#d2d2d2\"}},[_vm._v(\"注册表示您同意\"),_c('a',{staticStyle:{\"color\":\"#f4c542\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.$router.push('/signtext')}}},[_vm._v(\"《用户协议》\")])])])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f4d2590\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/sign.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f4d2590\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sign.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sign.vue\"\nimport __vue_script__ from \"!!ts-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sign.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f4d2590\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sign.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f4d2590\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/sign.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}